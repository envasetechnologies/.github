name: Install Requirements
description: Installs requirements based on the specified requirements file and index.
inputs:
  requirements-file:
    description: File containing the requirements to install.
    required: true
    default: requirements-dev.txt
  index-url:
    description: URL for an index other than PyPI
    required: false
    default: PyPI
runs:
  using: "composite"
  steps:
    - name: Update PIP
      run: python -m pip install --upgrade pip
      shell: bash
    - name: Install Requirements PyPI
      run: pip install -r ${{ inputs.requirements-file }}
      if: ${{ inputs.index-url == 'PyPI' }}
      shell: bash
    - name: Install Requirements External
      run: pip install -r ${{ inputs.requirements-file }} --index-url ${{ inputs.index-url }}
      shell: bash
    - name: Save Installed Requirements
      run: pip list > installed-requirements.txt
      shell: bash
    - name: Display Installed Requirements
      run: pip list
      shell: bash
      